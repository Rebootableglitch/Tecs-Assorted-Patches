<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<!--HSK-->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded SK</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

			<!-- ========== File Cabinate ========== -->

			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SimpleResearchBench"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities/li[text()="Misc_FileCabinet"]</xpath>
			</li>

			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "HiTechResearchBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities/li[text()="Misc_FileCabinet"]</xpath>
			</li>

			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "Misc_FileCabinet"]</xpath>
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "Light_ModernLamp"]</xpath>
			</li>
	
			<li Class="PatchOperationAttributeSet">
				<xpath>/Defs/ThingDef[defName = "Bed_Kingsize"]</xpath>
				<attribute>ParentName</attribute>
				<value>SK_ArtableBedBase</value>
			</li>
	
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "Bed_Kingsize"]/statBases</xpath>
				<value>
					<statBases>
						<WorkToBuild>1700</WorkToBuild>
						<Beauty>12</Beauty>
						<Comfort>0.95</Comfort>
						<BedRestEffectiveness>1.05</BedRestEffectiveness>
						<ImmunityGainSpeedFactor>1.07</ImmunityGainSpeedFactor>
						<SurgerySuccessChanceFactor>0.97</SurgerySuccessChanceFactor>
						<Bulk>165</Bulk>
						<Mass>55</Mass>
					</statBases>
				</value>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name = "SK_BedBase"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
				<value>
				  <li>Table_RoyalDresser</li>
				  <li>Table_RoyalEndTable</li>
				  <li>Table_Wardrobe</li>
				  <li>Table_LightEndTable</li>
				</value>
			</li>
		
			<li Class="PatchOperationAdd">
				<xpath>Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_ThingAnyOf"]/things[li[text()="EndTable"]]</xpath>
				<value>
				  <li>Bed_Kingsize</li>
				</value>
			</li>
		
			<li Class="PatchOperationConditional">
				<xpath>/Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_Thing"]/thingDef[text()="EndTable"]</xpath>
				<match Class="PatchOperationReplace">
					<xpath>/Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_Thing"][thingDef="EndTable"]</xpath>
					<value>
					<li @Class = "RoomRequirement_ThingAnyOf">
						<things>
							<li>EndTable</li>
							<li>Table_RoyalEndTable</li>
						</things>
					</li>
					</value>
				</match>
				<nomatch Class="PatchOperationAdd">
				<xpath>Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_ThingAnyOf"]/things[li[text()="EndTable"]]</xpath>
				<value>
					<li>Table_RoyalEndTable</li>
				</value>
				</nomatch>
			</li>
			
			<li Class="PatchOperationConditional">
				<xpath>/Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_Thing"]/thingDef[text()="Dresser"]</xpath>
				<match Class="PatchOperationReplace">
					<xpath>/Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_Thing"][thingDef="Dresser"]</xpath>
					<value>
					<li @Class = "RoomRequirement_ThingAnyOf">
						<things>
							<li>EndTable</li>
							<li>Table_RoyalDresser</li>
						</things>
					</li>
					</value>
				</match>
				<nomatch Class="PatchOperationAdd">
				<xpath>Defs/RoyalTitleDef/bedroomRequirements/li[@Class = "RoomRequirement_ThingAnyOf"]/things[li[text()="Dresser"]]</xpath>
				<value>
					<li>Table_RoyalDresser</li>
				</value>
				</nomatch>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="Light_Streetlamp"]/designationCategory</xpath>
				<value>
					<designationCategory>Accessories</designationCategory>
				</value>
			</li>

			<li Class="PatchOperationConditional">
				<xpath>/Defs/ThingDef[defName="Seat_SquareChair"]/researchPrerequisites/li[text()="ComplexFurniture"]</xpath>
				<match Class="PatchOperationRemove">
					<xpath>/Defs/ThingDef[defName="Seat_SquareChair"]/researchPrerequisites/li[text()="ComplexFurniture"]</xpath>
				</match>
			</li>
<!--
			<li Class="PatchOperationConditional">
				<xpath>/Defs/ThingDef[@ParentName="LampBase"]</xpath>
				<match Class="PatchOperationAttributeSet">
					<xpath>/Defs/ThingDef[@ParentName = "LampBase"]</xpath>
					<attribute>ParentName</attribute>
					<value>SK_LampBase</value>
				</match>
			</li>
-->
			</operations>
		</match>
		
	</Operation>
</Patch>